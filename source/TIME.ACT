

MODULE

; session timer. TS ticks @ 18.2min
BYTE TS = $12
BYTE TSEXP = 0

BYTE FUNC TSessExp()

  IF TS > TSEXP THEN
    PrintF("TSEXP=%B TS=%B%E",TSEXP,TS)

    NStatus()
    NWriteSE("Session expired!")
    IS_CONN = 0
    RETURN (1)
  FI
RETURN (0)

PROC TSleep(BYTE dur)

  BYTE t3=$14
  BYTE pT3=[0],j=[0]

  j=0
  pT3 = t3

  WHILE j < dur
  DO
    IF pT3 <> t3 THEN
      j==+1
    FI
    pT3 = t3
  OD
RETURN

